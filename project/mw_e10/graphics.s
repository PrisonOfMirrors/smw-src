UNK_B882:
	.DL GFX33
	.DL GFX32

CODE_00B888:
	REP #$10
	LDY.W #GFX33
	STY wm_8A
	LDA #:GFX33
	STA wm_8C
	LDY #wm_GFX32Decomp&$FFFF
	STY m0
	LDA #wm_GFX32Decomp>>16
	STA m2
	JSR _00B8DE
	LDA #(wm_GFX32Decomp+32*1128-2)>>16
	STA wm_8F
	REP #$30
	LDA #(wm_GFX32Decomp+32*1128-2)&$FFFF
	STA wm_8D
	LDX #$23FF
-	LDY #$0008
--	LDA wm_GFX32Decomp,X
	AND #$00FF
	STA [wm_8D]
	DEX
	DEC wm_8D
	DEC wm_8D
	DEY
	BNE --
	LDY #$0008
--	DEX
	LDA wm_GFX32Decomp,X
	STA [wm_8D]
	DEX
	BMI CODE_00B8D7
	DEC wm_8D
	DEC wm_8D
	DEY
	BNE --
	BRA -

CODE_00B8D7:
	LDA.W #GFX32
	STA wm_8A
	SEP #$20
_00B8DE:
	REP #$10
	LDY #$0000
_00B8E3:
	JSR ReadByte
	CMP #$FF
	BNE CODE_00B8ED
	SEP #$10
	RTS

CODE_00B8ED:
	STA wm_8F
	AND #$E0
	CMP #$E0
	BEQ CODE_00B8FF
	PHA
	LDA wm_8F
	REP #$20
	AND #$001F
	BRA _00B911

CODE_00B8FF:
	LDA wm_8F
	ASL
	ASL
	ASL
	AND.B #$E0
	PHA
	LDA wm_8F
	AND.B #$03
	XBA
	JSR ReadByte
	REP #$20
_00B911:
	INC A
	STA wm_8D
	SEP #$20
	PLA
	BEQ CODE_00B930
	BMI CODE_00B966
	ASL
	BPL CODE_00B93F
	ASL
	BPL CODE_00B94C
	JSR ReadByte
	LDX wm_8D
-	STA [m0],Y
	INC A
	INY
	DEX
	BNE -
	JMP _00B8E3

CODE_00B930:
	JSR ReadByte
	STA [m0],Y
	INY
	LDX wm_8D
	DEX
	STX wm_8D
	BNE CODE_00B930
	BRA _00B8E3

CODE_00B93F:
	JSR ReadByte
	LDX wm_8D
-	STA [m0],Y
	INY
	DEX
	BNE -
	BRA _00B8E3

CODE_00B94C:
	JSR ReadByte
	XBA
	JSR ReadByte
	LDX wm_8D
-	XBA
	STA [m0],Y
	INY
	DEX
	BEQ +
	XBA
	STA [m0],Y
	INY
	DEX
	BNE -
+	JMP _00B8E3

CODE_00B966:
	JSR ReadByte
	XBA
	JSR ReadByte
	TAX
-	PHY
	TXY
	LDA [m0],Y
	TYX
	PLY
	STA [m0],Y
	INY
	INX
	REP #$20
	DEC wm_8D
	SEP #$20
	BNE -
	JMP _00B8E3

ReadByte:
	LDA [wm_8A]
	LDX wm_8A
	INX
	BNE +
	LDX.W #$8000
	INC wm_8C
+	STX wm_8A
	RTS

GraphicsPtrLo:
	.DB <GFX00,<GFX01,<GFX02,<GFX03,<GFX04,<GFX05,<GFX06,<GFX07
	.DB <GFX08,<GFX09,<GFX0A,<GFX0B,<GFX0C,<GFX0D,<GFX0E,<GFX0F
	.DB <GFX10,<GFX11,<GFX12,<GFX13,<GFX14,<GFX15,<GFX16,<GFX17
	.DB <GFX18,<GFX19,<GFX1A,<GFX1B,<GFX1C,<GFX1D,<GFX1E,<GFX1F
	.DB <GFX20,<GFX21,<GFX22,<GFX23,<GFX24,<GFX25,<GFX26,<GFX27
	.DB <GFX28,<GFX29,<GFX2A,<GFX2B,<GFX2C,<GFX2D,<GFX2E,<GFX2F
	.DB <GFX30,<GFX31

GraphicsPtrHi:
	.DB >GFX00,>GFX01,>GFX02,>GFX03,>GFX04,>GFX05,>GFX06,>GFX07
	.DB >GFX08,>GFX09,>GFX0A,>GFX0B,>GFX0C,>GFX0D,>GFX0E,>GFX0F
	.DB >GFX10,>GFX11,>GFX12,>GFX13,>GFX14,>GFX15,>GFX16,>GFX17
	.DB >GFX18,>GFX19,>GFX1A,>GFX1B,>GFX1C,>GFX1D,>GFX1E,>GFX1F
	.DB >GFX20,>GFX21,>GFX22,>GFX23,>GFX24,>GFX25,>GFX26,>GFX27
	.DB >GFX28,>GFX29,>GFX2A,>GFX2B,>GFX2C,>GFX2D,>GFX2E,>GFX2F
	.DB >GFX30,>GFX31

GraphicsPtrBank:
	.DB :GFX00,:GFX01,:GFX02,:GFX03,:GFX04,:GFX05,:GFX06,:GFX07
	.DB :GFX08,:GFX09,:GFX0A,:GFX0B,:GFX0C,:GFX0D,:GFX0E,:GFX0F
	.DB :GFX10,:GFX11,:GFX12,:GFX13,:GFX14,:GFX15,:GFX16,:GFX17
	.DB :GFX18,:GFX19,:GFX1A,:GFX1B,:GFX1C,:GFX1D,:GFX1E,:GFX1F
	.DB :GFX20,:GFX21,:GFX22,:GFX23,:GFX24,:GFX25,:GFX26,:GFX27
	.DB :GFX28,:GFX29,:GFX2A,:GFX2B,:GFX2C,:GFX2D,:GFX2E,:GFX2F
	.DB :GFX30,:GFX31

CODE_00BA28:
	PHB
	PHY
	PHK
	PLB
	LDA GraphicsPtrLo,Y
	STA wm_8A
	LDA GraphicsPtrHi,Y
	STA wm_8B
	LDA GraphicsPtrBank,Y
	STA wm_8C
	LDA #<wm_GFXBuffer
	STA m0
	LDA #>wm_GFXBuffer
	STA m1
	LDA #wm_GFXBuffer>>16
	STA m2
	JSR _00B8DE
	PLY
	PLB
	RTL
